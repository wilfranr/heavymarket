<div class="container mx-auto p-4">
    @if (sistema$ | async; as sistema) {
        <p-card>
            <ng-template pTemplate="header">
                <div class="flex justify-between items-center p-4">
                    <h2 class="text-2xl font-bold">{{ sistema.nombre }}</h2>
                    <div class="flex gap-2">
                        <p-button
                            label="Editar"
                            icon="pi pi-pencil"
                            severity="warn"
                            (onClick)="editarSistema()">
                        </p-button>
                        <p-button
                            label="Volver"
                            icon="pi pi-arrow-left"
                            severity="secondary"
                            [text]="true"
                            (onClick)="volver()">
                        </p-button>
                    </div>
                </div>
            </ng-template>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Información Básica -->
                <div>
                    <h3 class="text-lg font-semibold mb-4">Información Básica</h3>
                    <div class="space-y-4">
                        <div>
                            <label class="text-sm font-medium text-gray-600">ID</label>
                            <p class="text-base">{{ sistema.id }}</p>
                        </div>
                        <div>
                            <label class="text-sm font-medium text-gray-600">Nombre</label>
                            <p class="text-base font-semibold">{{ sistema.nombre }}</p>
                        </div>
                        <div>
                            <label class="text-sm font-medium text-gray-600">Descripción</label>
                            <p class="text-base">{{ sistema.descripcion || '-' }}</p>
                        </div>
                    </div>
                </div>

                <!-- Imagen -->
                <div>
                    <h3 class="text-lg font-semibold mb-4">Imagen</h3>
                    @if (sistema.imagen) {
                        <img [src]="sistema.imagen" [alt]="sistema.nombre" class="w-full max-w-xs h-auto rounded-lg shadow-md" />
                    } @else {
                        <p class="text-gray-400">No hay imagen disponible</p>
                    }
                </div>
            </div>

            <p-divider />

            <!-- Fechas -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-4">
                <div>
                    <label class="text-sm font-medium text-gray-600">Fecha de Creación</label>
                    <p class="text-base">{{ sistema.created_at | date:'medium' }}</p>
                </div>
                <div>
                    <label class="text-sm font-medium text-gray-600">Última Actualización</label>
                    <p class="text-base">{{ sistema.updated_at | date:'medium' }}</p>
                </div>
                @if (sistema.deleted_at) {
                    <div>
                        <label class="text-sm font-medium text-gray-600">Fecha de Eliminación</label>
                        <p class="text-base text-red-500">{{ sistema.deleted_at | date:'medium' }}</p>
                    </div>
                }
            </div>
        </p-card>
    } @else {
        <p-card>
            <div class="text-center py-8">
                <i class="pi pi-spin pi-spinner text-4xl text-gray-400"></i>
                <p class="text-gray-600 mt-4">Cargando sistema...</p>
            </div>
        </p-card>
    }
</div>
